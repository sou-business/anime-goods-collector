graph TB

External["🌍 収集対象の外部サイト"]

User["👤 ユーザー(ブラウザ)"]

subgraph ANIME-GOODS-COLLECTOR
    CI["🔧 GitHub Actions (CI)"]
    
    subgraph application
        Batch["Batch Server"]
        Web["🌐 Web Server"]
    end

    subgraph DataLayer["💾 Data Layer"]
        Redis[(Redis)]
        DB[(PostgreSQL)]
    end
end

CI ---|自動ビルド&テスト| application

application --> Redis
application --> DB

User --> Web
User -->|アニメグッズコレクターサイト内の商品情報クリック| External

Batch -->|商品情報を定期的に収集| External