本プロジェクトの概要
---
趣味関連サイトから情報を定期的に収集・保存・表示するローカルアプリケーションです。
特定サイトを横断的に確認できるようにすることで、情報収集の効率化を目的として開発しました。
データ収集（スクレイピング）、保存、一覧表示までを実装済みです。

各フォルダについて
---
- DB  
DBの関連ファイル

- Docker  
本アプリをローカルDockerで動かすため、それに関する関連ファイルを格納。
ローカルで本アプリを動かす場合は、内部のreadmeを参照して、Dockerを構築すること。

- app_batch  
グッズ情報を定期収集するためのバッチプロジェクト

- app_cache  
キャッシュサーバ関連のファイル

- app_common  
各プロジェクトで共通的に使用するモジュール

- app_web  
webサーバ。利用者インタフェースプロジェクト

- ドキュメント  
本アプリに関する仕様書

# 要件定義

## 経緯  
転職に向けてポートフォリオを作成　＆　以下の事情でテーマを決めて作成。   
最近アニメ漫画コラボ系のTシャツを閲覧することに嵌っていたが、サイト毎にコラボしていることが多く、毎回複数サイトを開いて閲覧するのが面倒くさかったため、もしそれらを定期的に収集＆まとめて表示するサイトがあれば便利だと思い、試しに作成。   
ポートフォリオの側面が強くローカルのDockerで動かすことしか想定してない。

## 1. プロジェクト概要

- **目的**：アニメグッズ専門の商品情報を対象サイトからスクレイピングし、商品情報の一覧表示する。
- **対象サイト**：構造固定のアニメグッズ販売サイト複数（専用パーサー利用）。サイトはアプリ側で固定。
- **特徴**：バッチにて設定された時間に指定のサイトからスクレイピング実行し、商品情報取得・保存。フロントエンドからの保存データ取得をNext.jsのAPI Routesを用いて実装。

## 2. 想定ユーザー

- アニメグッズ収集・情報整理を目的とするユーザー

## 3. 技術スタック

| 層 | 技術 | 備考 |
| --- | --- | --- |
| webサーバ | Next.js API Routes（Node.js、React、TypeScript） |
| バッチサーバ | Typescript |
| キャッシュサーバ | redis |
| データベース | PostgreSQL + Prisma ORM |

### 言語・技術選定の意図
- TypeScript, React, Node.js  
勉強： 経験無し + 使用する機会が訪れる可能性の高そうなもの   
手軽さ: バッチは独立して処理を実行するためシンプルに記述したい、バックエンドは拡張性を考えてクラスで管理したいと考え、typescritであればバッチ処理（関数型）とバックエンド（オブジェクト指向的）の両方を実装できることから、コードの可読性や保守性も良かった。

- Next.js     
ファイルシステムベースのルーティングにより、API実装とフロントエンドからのデータ取得を簡単に行えるため

- Redis (キャッシュサーバ)   
勉強：本アプリには大げさだが、アプリケーションにDBに大量のデータを取りに行くのは負荷が大きいとは以前から考えていて、その解決策を考え時にキャッシュ専用のサーバがあれば可用性と性能の向上にもなるため良いと思い選定    
性能向上：メモリから直接データを取り出すことで、ユーザーへのレスポンス速度をDBより速くできる    
可用性向上: DB障害時に直近のデータを配信し続けるためのフォールバック先として活用    

- DB      
過去データの永続化。最新の一定件数はRedisから取得するため、それ以前の過去データが必要な場合にのみDBへアクセスする構成。

## 4. 機能要件

### 4.1 定期的にグッズ情報を自動収集

- バッチサーバで定期的に対象サイトからグッズ情報を収集し、取得情報をDB＆キャッシュサーバに保存する。
  
### 4.2 商品情報一覧表示

- ユーザーがwebサーバにアクセスしたら、redisサーバから、redisサーバに情報がない場合はDBから情報を取得し、カード形式で一覧表示。
- 各カードに商品タイトル、商品画像、価格、詳細ページリンクを含む

## 5. 画面構成

商品カード一覧、ロードアイコン、エラーメッセージ表示領域





